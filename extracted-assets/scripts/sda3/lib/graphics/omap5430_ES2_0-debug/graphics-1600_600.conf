begin khronos

	begin egl display 1
		egl-dlls = [IMG%s] libusc.so libsrv_um.so libpvr2d.so libIMGegl.so
		glesv1-dlls = libusc.so libsrv_um.so  libIMGegl.so libImgGLESv1_CM.so
		glesv2-dlls = libusc.so libsrv_um.so libusc.so libIMGegl.so libImgGLESv2.so
		gpu-dlls = libsrv_um.so libpvr2d.so pvrsrv.so
		gpu-string = SGX540rev120
		aperture = 250
		sgx-dumpfile = /var/dump/sgxdump.txt
	end egl display

	# Second egl display is needed for the vivante GC320 driver.
	# Disabled for 2014-11 as of 2014-07-29
	# begin egl display 2
	#	gpu-dlls = libGalcore.so
	
	#	1 -- to disable multisource blit even if supported. Default is 0. 
	#	gc320-multisource-blit-disable=1

    # GC320 statistics reporting
	#	0 -- no multisource blit stats collection. 
	#	1 -- summary stats for multisource blits, updated every 5 seconds or on the closest blit after 5 seconds.
	#		[O:<req-amount>MB,A:<actual-amount>MB,R:<act/req>] 
	#	2 -- debugging mode, lots of blit details. 
	#	gc320-stats=<0|1|2> 
	
	# end egl display 

	begin wfd device 1
			wfd-dlls = libwfdcfg.so.0 libWFDomap5430ES2_0_g.so 
	
		# Pipeline/display binding. Pipeline names (gfx, video1|2|3) are hard-coded
		# 1 = main/left display (in NBTevo: HDMI1) 
		# 2 = secondary/right display (OTHER1)
		gfx = 1
		video1 = 1
		video2 = 2
		video3 = 2

		# BCHS
		extproc-dll = libextproc_g.so
		# Setting for the vivante GC320 driver
		# GC320 disabled for 2014-11 as of 2014-07-29
	
		# DSchroeder 2014-03-10: Our memory allocation strategy for the GC320 is:
		# - allocate enough contiguous memory for normal operation (less fragmentation)
		# - still allow dynamic memory in extreme situations when the contiguous memory runs out
		#gpu-contiguousMB = 4
		#gpu-contiguousOnly = false 
	end wfd device

end khronos

begin winmgr

   begin globals
      pointer-qsize = 1
	  # Switch from GC320 to PVR2D for 2014-11 as of 2014-07-29
	  #blit-config = vivante-omap5430
	  blit-config = pvr2d
      blits-logsize = 4096
      input-logsize = 8192
      requests-logsize = 65536
   end globals

   begin display 1
      formats = rgba8888 rgbx8888 nv12 
      video-mode = 1600 x 600 @ 60 
      end display

   begin class framebuffer1
      display = 1
      pipeline = 4
      format = rgba8888
	  # Switch from GC320 to PVR2D for 2014-11 as of 2014-07-29
      #usage = vivante-omap5430
      usage = pvr2d
   end class 
   begin display 2
      formats = rgba8888 rgbx8888 nv12
      video-mode = 800 x 480 @ 60
	  
	  # DS 2014-02-28: work-around for screen bug (doesn't initialise background of display 2 automatically)
	  # Note: 0x000000 does not work, hence 0x010101
	  background = 0x010101
   end display
   
  begin class framebuffer2
    display = 2
    pipeline = 2
    format = rgba8888
	  # Switch from GC320 to PVR2D for 2014-11 as of 2014-07-29
    #usage = vivante-omap5430
    usage = pvr2d
  end class   
 
# --------------------- Screen window classes ------------------------- 

# browser windows display 1

 begin class :784
    order = 80
    display = 1 
    surface-size = 1600x600 
    source-position = 0,0 
    source-size = 1600x600     
    window-position = 0,0 
    window-size = 1600x600 
    visible = false
  end class 

  begin class :800
    order = 80
    display = 1 
    surface-size = 480x600 
    source-position = 0,0 
    source-size = 480x600     
    window-position = 0,0 
    window-size = 480x600 
    visible = false
  end class 

  begin class :768
    order = 81
    display = 1 
    surface-size = 1600x600 
    source-position = 0,0 
    source-size = 1600x600     
    window-position = 0,0 
    window-size = 1600x600 
    visible = false
  end class   
  
  begin class :592
    order = 81
    display = 1 
    surface-size = 1600x600 
    source-position = 0,0 
    source-size = 1600x600     
    window-position = 0,0 
    window-size = 1600x600 
    visible = false
  end class   
  
end winmgr
