begin khronos

	begin egl display 1
		egl-dlls = [IMG%s] libusc.so libsrv_um.so libpvr2d.so libIMGegl.so
		glesv1-dlls = libusc.so libsrv_um.so  libIMGegl.so libImgGLESv1_CM.so
		glesv2-dlls = libusc.so libsrv_um.so libusc.so libIMGegl.so libImgGLESv2.so
		gpu-dlls = libsrv_um.so libpvr2d.so pvrsrv.so
		gpu-string = SGX540rev120
        aperture = 250
		sgx-dumpfile = /var/dump/sgxdump.txt
		sgx-dumpfile-maxsize = 1048576
	end egl display

	# Second egl display is needed for the vivante GC320 driver.
	begin egl display 2
		gpu-dlls = libGalcore.so

	#	1 -- to disable multisource blit even if supported. Default is 0.
	#   this feature should be enabled when the investigations regarding GC320-lockup have been done and fixed!
		gc320-multisource-blit-disable=1

	# GC320 statistics reporting
	#	0 -- no multisource blit stats collection.
	#	1 -- summary stats for multisource blits, updated every 5 seconds or on the closest blit after 5 seconds.
	#		[O:<req-amount>MB,A:<actual-amount>MB,R:<act/req>]
	#	2 -- debugging mode, lots of blit details.
	#	gc320-stats=<0|1|2>
	end egl display

	begin wfd device 1
			wfd-dlls = libwfdcfg.so libWFDomap5430ES2_0.so

		# Pipeline/display binding. Pipeline names (gfx, video1|2|3) are hard-coded
		# 1 = main/left display (in NBTevo: HDMI1)
		# 2 = secondary/right display (OTHER1)
		gfx = 1
		video1 = 1
		video2 = 2
		video3 = 2

		# Brightness, Contrast, Hue Settings implementation
			extproc-dll = libextproc.so

		# Setting for the vivante GC320 driver

		# DSchroeder 2014-03-10: Our memory allocation strategy for the GC320 is:
		# - allocate enough contiguous memory for normal operation (less fragmentation)
		# - still allow dynamic memory in extreme situations when the contiguous memory runs out
		gpu-contiguousMB = 4
		gpu-contiguousOnly = false
		
		# Turn off/on the GC320 power management. Note: does not affect SGX-PowerManagement!
		gpu-powerManagement = 0

		# enable MFLAG for all pipelines
		gfx-enable-mflag = 1
		video1-enable-mflag = 1
		video2-enable-mflag = 1
		video3-enable-mflag = 1
		# in order to see debug logging for MFLAG enable on every pipeline, you have to setup debug level to > 1, such as:
		#debug_lvl = 1

	end wfd device

end khronos

begin winmgr

   begin globals
      pointer-qsize = 1
	blit-config = vivante-omap5430
      blits-logsize = 4096
      input-logsize = 8192
      requests-logsize = 65536
   end globals

   begin display 1
      formats = rgba8888 rgbx8888 nv12
      video-mode = 1440 x 540 @ 60
      end display

   begin class framebuffer1
      display = 1
      pipeline = 4
      format = rgba8888
	usage = vivante-omap5430
   end class
   begin display 2
      formats = rgba8888 rgbx8888 nv12
      video-mode = 800 x 480 @ 60

   end display

  begin class framebuffer2
    display = 2
    pipeline = 2
    format = rgba8888
	usage = vivante-omap5430
  end class

# --------------------- Screen window classes -------------------------

# browser windows display 1

 begin class :784
    order = 80
    display = 1
    surface-size = 1440x540
    source-position = 0,0
    source-size = 1440x540
    window-position = 0,0
    window-size = 1440x540
    visible = false
  end class

  begin class :800
    order = 80
    display = 1
    surface-size = 480x540
    source-position = 0,0
    source-size = 480x540
    window-position = 0,0
    window-size = 480x540
    visible = false
  end class

  begin class :768
    order = 81
    display = 1
    surface-size = 1440x540
    source-position = 0,0
    source-size = 1440x540
    window-position = 0,0
    window-size = 1440x540
    visible = false
  end class

  begin class :592
    order = 81
    display = 1
    surface-size = 1440x540
    source-position = 0,0
    source-size = 1440x540
    window-position = 0,0
    window-size = 1440x540
    visible = false
  end class

end winmgr
